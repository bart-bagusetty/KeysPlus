@model AccountOverView
@{
    ViewBag.Title = "Property Community | Account Overview";
}
<div id="userPersonalDetails">
    <h3>User Information </h3>
    <hr />
    <div class="row">
        <div class="panel panel-default">
            <div class="panel-body" data-bind="visible:MainView"><!--Profile Information-->
                <ul class="nav nav-tabs"><!--Tabs-->
                    <li class="active"><a data-toggle="tab" href="#yourInformation">Your Information</a></li><!--Tab for Your Information (person)-->
                    <li><a data-toggle="tab" href="#yourCompany" data-bind="visible:IsServiceSupplier">Your Company</a></li><!--Tab for Your Company -->
                </ul>
                <div class="tab-content">
                    <div id="yourInformation" class="tab-pane active">
                        <div class="row">
                            <div class="col-md-12" style="padding-bottom: 100px;">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <span class="h3" data-bind="text: FullUserName"></span>
                                    </div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-md-8" style="margin-top:10px;"><!--details coloum-->
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>First Name:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <span data-bind="text: FirstName"></span>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Middle Name:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <span data-bind="if: MiddleName">
                                                            <span data-bind="text: MiddleName"></span>
                                                        </span>
                                                        <span data-bind="ifnot: MiddleName">
                                                            -
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Last Name:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <span data-bind="text: LastName"></span>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Place Of Birth:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <span class="bfh-countries" data-bind="country: PlaceOfBirth"></span>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Language:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <span data-bind="text: Language"></span>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Phone Number:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <span data-bind="text: PhoneNumber"></span>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Occupation:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <span data-bind="if: Occupation">
                                                            <span data-bind="text: Occupation"></span>
                                                        </span>
                                                        <span data-bind="ifnot: Occupation">
                                                            -
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Linkedin Url :</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <span data-bind="if: LinkedinUrl">
                                                            <span data-bind="text: LinkedinUrl"></span>
                                                        </span>
                                                        <span data-bind="ifnot: LinkedinUrl">
                                                            -
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Physical Address:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <div>
                                                            <span data-bind="text: PhysicalAddress().Number"></span>
                                                            <span data-bind="if: PhysicalAddress().Street">
                                                                <span data-bind="text: PhysicalAddress().Street"></span>,
                                                            </span>
                                                        </div>
                                                        <div>
                                                            <span data-bind="if: PhysicalAddress().Suburb">
                                                                <span data-bind="text: PhysicalAddress().Suburb"></span>,
                                                            </span>
                                                        </div>
                                                        <div>
                                                            <span data-bind="text: PhysicalAddress().City"></span>
                                                            <span data-bind="text:PhysicalAddress().PostCode"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Billing Address:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <div>
                                                            <span data-bind="text: BillingAddress().Number"></span>
                                                            <span data-bind="if: BillingAddress().Street">
                                                                <span data-bind="text: BillingAddress().Street"></span>,
                                                            </span>
                                                        </div>
                                                        <div>
                                                            <span data-bind="if: BillingAddress().Suburb">
                                                                <span data-bind="text: BillingAddress().Suburb"></span>,
                                                            </span>
                                                        </div>
                                                        <div>
                                                            <span data-bind="text: BillingAddress().City"></span>
                                                            <span data-bind="text:BillingAddress().PostCode"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height:25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Uploads:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <div data-bind="foreach:$root.MediaFiles">
                                                            <div class="row" style="padding-left : 12px;">
                                                                <span> <a target="_blank" data-bind="text:OldFileName,attr:{href:Data}"></a></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> <!--details column-->
                                            <div class="col-md-4">
                                                <div class="row">
                                                    <div class="col-md-12 pull-right" style="width:250px; height:250px; padding-right : 10px;">
                                                        <img class="img-responsive img-thumbnail" data-bind="attr: {src: ProfilePhoto().Data}" alt="firstImg" onerror="this.src = '/images/icon-user-default.png'" />
                                                    </div>
                                                </div>
                                            </div> <!--photo column-->
                                        </div> <!--row -->
                                        <div class="row">
                                            <div class="col-md-1 pull-right">
                                                <button name="edit" type="button" class="btn btn-success" style="margin-bottom:15px; text-align:center" value="Create" data-bind="click: $root.viewChange">Edit</button>
                                            </div>
                                        </div>
                                    </div> <!--panel-body-->
                                </div> <!--panel-primary-->
                            </div> <!--coloumn-->
                        </div> <!--row-->
                    </div> <!--userDetails-->
                    <div id="yourCompany" class="tab-pane" data-bind="with : Company"><!--Your Company tab-->
                        <div class="row" id="companyDetails">
                            <div class="col-md-12" style="padding-bottom: 100px;">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <span class="h3" data-bind="text: Name"></span>
                                    </div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-md-8" style="margin-top:10px;"><!--details column-->
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Phone Number:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <span data-bind="text: Phone"></span>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Website:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <span data-bind="text: Website"></span>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Physical Address:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <div>
                                                            <span data-bind="text: PhysicalAddress.Number"></span>
                                                            <span data-bind="if: PhysicalAddress.Street">
                                                                <span data-bind="text: PhysicalAddress.Street"></span>,
                                                            </span>
                                                        </div>
                                                        <div>
                                                            <span data-bind="if: PhysicalAddress.Suburb">
                                                                <span data-bind="text: PhysicalAddress.Suburb"></span>,
                                                            </span>
                                                        </div>
                                                        <div>
                                                            <span data-bind="text: PhysicalAddress.City"></span>
                                                            <span data-bind="text: PhysicalAddress.PostCode"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row" style="line-height : 25px">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Billing Address:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <div>
                                                            <span data-bind="text: BillingAddress.Number"></span>
                                                            <span data-bind="if: BillingAddress.Street">
                                                                <span data-bind="text: BillingAddress.Street"></span>,
                                                            </span>
                                                        </div>
                                                        <div>
                                                            <span data-bind="if: BillingAddress.Suburb">
                                                                <span data-bind="text: BillingAddress.Suburb"></span>,
                                                            </span>
                                                        </div>
                                                        <div>
                                                            <span data-bind="text: BillingAddress.City"></span>
                                                            <span data-bind="text: BillingAddress.PostCode"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                @*<div class="row" style="line-height : 25px" data-bind="visible: isShipSame()">
                                                    <div class="col-md-4" style="padding-right : 0px;">
                                                        <strong>Billing Address:</strong>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <div>
                                                            <span>Same as physical address</span>
                                                        </div>
                                                    </div>
                                                </div>*@
                                            </div> <!--details column-->
                                            <div class="col-md-4">
                                                <div class="row">
                                                    <div class="col-md-12 pull-right" style="width:250px; height:250px; padding-right : 10px;">
                                                        <img class="img-responsive img-thumbnail" data-bind="attr: {src: ProfilePhoto().Data}" alt="firstImg" onerror="this.src = '/images/icon-user-default.png'" />
                                                    </div>
                                                </div>
                                            </div> <!--photo coloum-->
                                        </div> <!--row -->
                                        <div class="row">
                                            <div class="col-md-1 pull-right">
                                                <button name="edit" type="button" class="btn btn-success" style="margin-bottom:15px; text-align:center" value="Create" data-bind="click: $root.ShowCompanyEdit">Edit</button>
                                            </div>
                                        </div>
                                    </div> <!--panel-body-->
                                </div> <!--panel-primary-->
                            </div> <!--coloumn-->
                        </div> <!--row-->
                    </div> <!--userDetails-->
                </div>
            </div> <!--userPersonalDetails-->
            <div class="row" data-bind="visible: EditUser">
                <form class="step-form">
                    <br /><br /><br /><br />
                    <fieldset id="user-details">
                        <h4 class="title"><strong>Edit User Information</strong></h4>
                        <div class="row">
                            <div class="col-md-6">
                                <img class="img-responsive img-thumbnail" style="width:250px;height:250px" id="editimage" data-bind="attr: {src: ProfilePhoto().Data}" alt="firstImg" onerror="this.src = '/images/icon-user-default.png'" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2">
                                <div class="form-group">
                                    <div class="btn btn-success">
                                        <span class="fa fa-cloud-upload"></span>
                                        Choose photo
                                        <input type="file" id="file-upload" class="key-upload" data-bind="event: {change: fileUpload}" accept=".doc,.docx,.pdf,image/*" multiple />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <button class="btn btn-danger" data-bind="click: $root.removePhoto">Remove photo</button>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <p class="text-muted" style="font-size:11px; text-align : left">Upload your profile photo. Supported file types are *.jpg, *.jpeg, *.png, *.gif.</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <label>First Name <span style="color:red;">*</span></label>
                                <input class="form-control" type="text" name="firstName" placeholder="&nbsp First Name" data-bind="value: FirstName">
                            </div>

                            <div class="col-md-4">
                                <label>Middle Name</label>
                                <input class="form-control" type="text" name="firstName" placeholder="&nbsp Middle Name" data-bind="value: MiddleName">
                            </div>
                            <div class="col-md-4">
                                <label>Last Name <span style="color:red;">*</span></label>
                                <input class="form-control" type="text" name="LastName" placeholder="&nbsp Last Name" data-bind="value: LastName">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label>Phone Number <span style="color:red;">*</span></label>
                                <input class="form-control" type="text" name="LastName" placeholder="&nbsp Phone Number" data-bind="value: PhoneNumber">
                            </div>
                            <div class="col-md-6">
                                <label>Country Of Birth </label>
                                <div id="countries_states2" data-bind="value: PlaceOfBirth" class="bfh-selectbox bfh-countries" data-country="NZ" data-flags="true">
                                </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <label>Language <span style="color:red;">*</span></label>
                                <input class="form-control" type="text" name="Language" placeholder="&nbsp Language" data-bind="value: Language">
                            </div>
                            <div class="col-md-3">
                                <label>Occupation@*<span style="color:red;">*</span>*@</label>
                                <input class="form-control" type="text" name="Occupation" placeholder="&nbsp Occupation" data-bind="value: Occupation">
                            </div>
                            <div class="col-md-6">
                                <label>LinkedIn profile Url@*<span style="color:red;">*</span>*@</label>
                                <input class="form-control" type="text" name="LinkedinUrl" placeholder="&nbsp Linkedin Url" data-bind="value: LinkedinUrl">
                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <div class="col-md-6">
                                <h4><label> Physical Address</label></h4>
                            </div>
                            <div class="col-md-6">
                                <h4> <label> Billing Address</label></h4>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="control-label">Search Address@*<span style="color:red;">*</span>*@</label>
                                            <input class="form-control" type="text" name="searchAddressPhysical" id="PhysicalAutocomplete" placeholder="&nbsp Enter your address" data-bind="addressAutocomplete: PhysicalAddress(), value: PhyAddressSearchBar, valueUpdate:'afterkeydown'">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label" for="Number">Number <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="Phy_number" placeholder="&nbsp Number" data-bind="value: PhysicalAddress().Number" />
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="form-group">
                                            <label class="control-label" for="Street">Street <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="Phy_street" placeholder="&nbsp Street" data-bind="value: PhysicalAddress().Street" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label" for="Suburb">Suburb <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="Phy_suburb" placeholder="&nbsp Suburb" data-bind="value: PhysicalAddress().Suburb" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label" for="City">City <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="Phy_city" placeholder="&nbsp City" data-bind="value: PhysicalAddress().City" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label" for="PostCode">PostCode <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="Phy_postCode" placeholder="&nbsp PostCode" data-bind="value: PhysicalAddress().PostCode" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <input name="isShipSame" id="isShipSame" type="checkbox" data-bind="checked: isShipSame">
                                            <label>Same Billing Address</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="control-label">Search Address@*<span style="color:red;">*</span>*@</label>
                                            <input class="form-control" type="text" name="searchAddressBilling" id="BillingAutocomplete" placeholder="&nbsp Enter your address" data-bind="addressAutocomplete: BillingAddress(), value: BillAddressSearchBar, valueUpdate:'afterkeydown', disable : isShipSame">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label" for="street_number">Number <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="bill_number" placeholder="&nbsp Number" data-bind="value: BillingAddress().Number, disable : isShipSame" />
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="form-group">
                                            <label class="control-label" for="route">Street <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="bill_street" placeholder="&nbsp Street" data-bind="value: BillingAddress().Street, disable : isShipSame" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label">Suburb <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="bill_suburb" placeholder="&nbsp Suburb" data-bind="value: BillingAddress().Suburb, disable : isShipSame" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label">City <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="bill_city" placeholder="&nbsp City" data-bind="value: BillingAddress().City, disable : isShipSame" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label">PostCode <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="bill_postCode" placeholder="&nbsp PostCode" data-bind="value: BillingAddress().PostCode, disable : isShipSame" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="raw">
                            <div class="form-group">
                                <label class="control-label">Upload your documents here</label>
                                <div class="panel panel-default">
                                    <div class="panel-body" style="min-height:150px">
                                        <div data-bind="foreach: MediaFiles()">
                                            <div class="col-md-3 col-sm-4 col-xs-4" data-bind="visible : MediaType == 1">
                                                <div class="thumbnail">
                                                    <a data-bind="click: $root.removeFiles">
                                                        <i class="zmdi zmdi-close-circle" style="float:right"></i>
                                                    </a>
                                                    <img class="img-responsive" data-bind="attr: {src: Data}">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <ul class="list-group" data-bind="foreach: MediaFiles()">
                                    <li class="list-group-item" data-bind="visible : MediaType == 2" style="display: none;">
                                        <span data-bind="text : OldFileName"></span>
                                        <span class="zmdi zmdi-close-circle pull-right" data-bind="click : $root.removeFiles"></span>
                                    </li>
                                </ul>
                            </div>
                            <div class="form-group">
                                <div class="btn btn-success">
                                    <span class="fa fa-cloud-upload"></span>
                                    Choose Files
                                    <input type="file" id="ImageFile" class="key-upload" data-bind="filesUpload : MediaFiles" accept="application/pdf,application/msword,image/*" multiple="">
                                </div>
                            </div>
                            <div class="form-group">
                                <p class="text-muted" style="font-size:11px; text-align : left" data-bind="text:FileWarning" />
                            </div>
                        </div>
                        @*<div class="row">
                                <div class="col-md-6">
                                    <label class="control-label">Please upload your Photo</label>
                                </div>

                                <div class="col-md-6">
                                    <input name="isShipSame" id="isShipSame" type="checkbox" data-bind="checked: isShipSame"> &nbsp;&nbsp;
                                    <label for="isShipSame">Click here for same Billing Address</label>
                                </div>
                        </div>*@
                            @*<div class="row">
                            <div class="col-md-6">
                                <label class="control-label">Please upload your photo</label>
                                <!-- image-preview-filename input [CUT FROM HERE]-->
                                <div class="input-group image-preview">
                                    <input type="text" class="form-control image-preview-filename img-responsive" data-bind="attr: {src: ProfilePhoto().Data}, textInput: ProfilePhoto().Data " disabled="disabled"> <!-- don't give a name === doesn't send on POST/GET -->
                                    <span class="input-group-btn">
                                        <!-- image-preview-clear button -->
                                        <button type="button" class="btn btn-default image-preview-clear" style="display:none;">
                                            <span class="glyphicon glyphicon-remove"></span> Clear
                                        </button>
                                        <!-- image-preview-input -->
                                        <div class="btn btn-default image-preview-input">
                                            <span class="glyphicon glyphicon-folder-open"></span>
                                            <span class="image-preview-input-title">Choose File</span>
                                            <input type="file" id="file-upload" class="key-upload" data-bind="event: {change:fileUpload}"  accept="image/*" name="input-file-preview" />  <!--rename it-->
                                        </div>
                                    </span>
                                </div><!-- /input-group image-preview [TO HERE]-->
                            </div>
                        </div>*@
                            @*<div class="row">
                            <div class="col-md-8">
                                <p class="text-muted" style="font-size:11px; text-align : left"> Upload your profile photo inSupported file *.jpg, *.jpeg, *.png & *.gif </p>
                            </div>
                        </div>*@
                        <div class="row">
                            <div class="col-md-12 text-center">
                                <button class="btn btn-primary" id="btnSave" name="next" data-bind="click: $root.edit">Save</button>
                                <button class="btn btn-danger" onclick="location.href='@Url.Action("AccountOverview", "Account")'">Cancel</button>
                            </div>
                        </div>
                    </fieldset>
                    <br /><br /><br /><br />
                </form>
            </div>
            <div id="SaveModal" class="modal fade" role="dialog"><!--Modal-->
                <div class="modal-dialog"><!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Changes saved successfully!</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-success" data-dismiss="modal">OK</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" data-bind="visible: EditCompany">
                <form class="step-form"  data-bind="with : Company">
                    <br /><br /><br /><br />
                    <fieldset id="user-details">
                        <h4 class="title"><strong>Edit Company Information</strong></h4>
                        <div class="row">
                            <div class="col-md-6">
                                <img class="img-responsive img-thumbnail" style="width:250px;height:250px" id="editcompanyimage" data-bind="attr: {src: ProfilePhoto().Data}" alt="firstImg" onerror="this.src = '/images/icon-user-default.png'" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2">
                                <div class="form-group">
                                    <div class="btn btn-success">
                                        <span class="fa fa-cloud-upload"></span>
                                        Choose photo
                                        <input type="file" id="file-upload" class="key-upload" data-bind="event: {change: fileUploadCompany}" accept=".doc,.docx,.pdf,image/*" multiple />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <button class="btn btn-danger" data-bind="click: $root.removePhoto">Remove photo</button>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <p class="text-muted" style="font-size:11px; text-align : left">Upload your company logo. Supported file types are *.jpg, *.jpeg, *.png, *.gif.</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <label>Company Name <span style="color:red;">*</span></label>
                                <input class="form-control" type="text" name="companyName" placeholder="&nbsp Company Name" data-bind="value: Name">
                            </div>

                            <div class="col-md-4">
                                <label>Company Phone Number <span style="color:red;">*</span></label>
                                <input class="form-control" type="text" name="companyPhone" placeholder="&nbsp Company Phone Number" data-bind="value: Phone">
                            </div>

                            <div class="col-md-4">
                                <label>Company Website <span style="color:red;">*</span></label>
                                <input class="form-control" type="text" name="companyWebsite" placeholder="&nbsp Company Website" data-bind="value: Website, valueUpdate :'afterkeydown'">
                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <div class="col-md-6">
                                <h4><label> Physical Address</label></h4>
                            </div>
                            <div class="col-md-6">
                                <h4> <label> Billing Address</label></h4>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="control-label">Search Address@*<span style="color:red;">*</span>*@</label>
                                            <input class="form-control" type="text" name="searchAddressPhysical" id="PhysicalAutocomplete" placeholder="&nbsp Enter your address" data-bind="addressAutocomplete: PhysicalAddress, valueUpdate:'afterkeydown'">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label" for="Number">Number <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="Phy_number" placeholder="&nbsp Number" data-bind="value: PhysicalAddress.Number" />
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="form-group">
                                            <label class="control-label" for="Street">Street <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="Phy_street" placeholder="&nbsp Street" data-bind="value: PhysicalAddress.Street" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label" for="Suburb">Suburb <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="Phy_suburb" placeholder="&nbsp Suburb" data-bind="value: PhysicalAddress.Suburb" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label" for="City">City <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="Phy_city" placeholder="&nbsp City" data-bind="value: PhysicalAddress.City" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label" for="PostCode">PostCode <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="Phy_postCode" placeholder="&nbsp PostCode" data-bind="value: PhysicalAddress.PostCode" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <input name="isCompShipSame" id="isCompShipSame" type="checkbox" data-bind="checked: isCompShipSame">
                                            <label>Same Billing Address</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="control-label">Search Address@*<span style="color:red;">*</span>*@</label>
                                            <input class="form-control" type="text" name="searchAddressBilling" id="BillingAutocomplete" placeholder="&nbsp Enter your address" data-bind="addressAutocomplete: BillingAddress, valueUpdate:'afterkeydown', disable : $root.isCompShipSame">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label" for="street_number">Number <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="bill_number" placeholder="&nbsp Number" data-bind="value: BillingAddress.Number, disable : $root.isCompShipSame" />
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="form-group">
                                            <label class="control-label" for="route">Street <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="bill_street" placeholder="&nbsp Street" data-bind="value: BillingAddress.Street, disable : $root.isCompShipSame" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label">Suburb <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="bill_suburb" placeholder="&nbsp Suburb" data-bind="value: BillingAddress.Suburb, disable : $root.isCompShipSame" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label">City <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="bill_city" placeholder="&nbsp City" data-bind="value: BillingAddress.City, disable : $root.isCompShipSame" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label">PostCode <span style="color:red;">*</span></label>
                                            <input type="text" class="form-control" id="bill_postCode" placeholder="&nbsp PostCode" data-bind="value: BillingAddress.PostCode, disable : $root.isCompShipSame" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 text-center">
                                <button class="btn btn-primary" id="btnSave" name="next" data-bind="click: $root.editCompany">Save</button>
                                <button class="btn btn-danger" onclick="location.href='@Url.Action("AccountOverview", "Account")'">Cancel</button>
                            </div>
                        </div>
                    </fieldset>
                    <br /><br /><br /><br />
                </form>
            </div>
            <div id="SaveModal" class="modal fade" role="dialog"><!--Modal-->
                <div class="modal-dialog"><!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Changes saved successfully!</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-success" data-dismiss="modal">OK</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Bootstrap Form Helpers -->
<script src="http://bootstrapformhelpers.com/assets/js/bootstrap-formhelpers.min.js">
</script>
<script src="~/Scripts/Users/AccountOverview.js"></script>
<script src="~/Scripts/Globals/keysAddress.js"></script>
<script src="~/Scripts/load-image.all.min.js"></script>
<script src="~/Scripts/exif-js.js"></script>
<script src="~/Scripts/binaryajax.js"></script>
@*The following caused errors in the browser after I got the latest version of the project so I commented them out*@
@*<link href="css/bootstrap-form-helpers.min.css" rel="stylesheet">
<script src="js/bootstrap-formhelpers.min.js"></script>*@
<script>
    $(document).ready(function () {
        function PageViewModel(dataVm) {
            var self = this;
            for (var key in dataVm) {
                self[key] = dataVm[key];
            }
            KeysUtils.injectExtends(self.Company, KeysExtendsDic.CompanyOverView)
            self.EditCompany = function (data) {
                var formData = KeysUtilts.toData(data);

            }
            self.CompanyErrors = ko.validation.group(self.Company);
            self.IsCompanyValid = ko.computed(function () {
                return self.CompanyErrors().length == 0;
            });
            self.MainView = ko.observable(true);
            debugger;
        }
        var dataVm = ko.mapping.fromJS(@Html.Raw(Json.Encode(Model)));
        ko.applyBindings(new PageViewModel(dataVm));
        @*var data = @Html.Raw(Json.Encode(Model));*@
        //var comData = ko.mapping.fromJS(data.Company);
        //function CompanyDetailModel(data) {
        //    var self = this;
        
        //    for (var key in data) {
        //        self[key] = data[key];
        //    }

        //    self.ProfilePhoto = ko.observable(self.ProfilePhoto);
        //    self.NewCompPhoto = ko.observable();
        //    self.isCompShipSame = ko.observable(false);

        //    self.checkCompShipSame = ko.computed(function () {
        //        if (self.isCompShipSame()) {
        //            UpdateAddress(ko.mapping.toJS(self.PhysicalAddress), self.BillingAddress);
        //        }
        //        else {
        //            self.BillingAddress.Number;
        //            self.BillingAddress.Street;
        //            self.BillingAddress.Suburb;
        //            self.BillingAddress.City;
        //            self.BillingAddress.PostCode;
        //        }
        //    });

        //    function UpdateAddress(data, address) {
        //        data.Number ? address.Number(data.Number) : 1;
        //        data.Street ? address.Street(data.Street) : 1;
        //        data.Suburb ? address.Suburb(data.Suburb) : 1;
        //        data.City ? address.City(data.City) : 1;
        //        data.PostCode ? address.PostCode(data.PostCode) : 1;
        //        data.Latitude ? address.Latitude(data.Latitude) : 1;
        //        data.Longitude ? address.Longitude(data.Longitude) : 1;
        //    }

        //    function resetOrientation(srcBase64, srcOrientation, callback) {
        //        var img = new Image();
        //        img.onload = function () {
        //            var width = img.width,
        //                height = img.height,
        //                canvas = document.createElement('canvas'),
        //                ctx = canvas.getContext("2d");

        //            // set proper canvas dimensions before transform & export
        //            if (4 < srcOrientation && srcOrientation < 9) {
        //                canvas.width = height;
        //                canvas.height = width;
        //            } else {
        //                canvas.width = width;
        //                canvas.height = height;
        //            }

        //            // transform context before drawing image
        //            switch (srcOrientation) {
        //                case 2: ctx.transform(-1, 0, 0, 1, width, 0); break;
        //                case 3: ctx.transform(-1, 0, 0, -1, width, height); break;
        //                case 4: ctx.transform(1, 0, 0, -1, 0, height); break;
        //                case 5: ctx.transform(0, 1, 1, 0, 0, 0); break;
        //                case 6: ctx.transform(0, 1, -1, 0, height, 0); break;
        //                case 7: ctx.transform(0, -1, -1, 0, height, width); break;
        //                case 8: ctx.transform(0, -1, 1, 0, 0, width); break;
        //                default: break;
        //            }

        //            // draw image
        //            ctx.drawImage(img, 0, 0);

        //            // export base64
        //            callback(canvas.toDataURL());
        //        };

        //        img.src = srcBase64;
        //    }

        //    self.fileUploadCompany = function (elemet, event) {
        //        var files = event.target.files;
        //        console.log(files);
        //        if (files && files[0]) {
        //            var f = files[0];
        //            if (!f.type.match('image.*')) {
        //                return;
        //            }

        //            //Get the current orientation value of the image
        //            var originalImage = document.getElementById("editimage");
        //            var imgOrientation;
        //            EXIF.getData(originalImage, function () {
        //                imgOrientation = EXIF.getTag(this, "Orientation");
        //            });
        //            console.log("Orientation: " + imgOrientation);

        //            var reader = new FileReader();
        //            reader.onload = function (e) {
        //                var photo = {
        //                    File: ko.observable(f),
        //                    Data: ko.observable(e.target.result),
        //                    OldFileName: ko.observable(f.name),
        //                    Status: ko.observable("add"),
        //                }
        //                self.ProfilePhoto(photo);
        //            }
        //            reader.readAsDataURL(f);
        //            //originalImage = document.getElementById("editimage");

        //            //Set proper image orientation
        //            //resetOrientation(originalImage.src, imgOrientation, function (resetBase64Image) {
        //            //    originalImage.src = resetBase64Image;
        //            //});
        //        }
        //    }
        //};
        //var comVm = new CompanyDetailModel(comData);
        
        //ko.applyBindings(comVm, document.getElementById('companyDetails'));
    });
</script>






